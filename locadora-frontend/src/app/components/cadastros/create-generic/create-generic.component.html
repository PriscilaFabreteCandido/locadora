<form [formGroup]="form" class="mx-auto" novalidate>
  <div *ngFor="let atributo of atributos" class="mb-3">
    <div class="form-group d-flex">
      <label for="{{ atributo.field }}" class="flex-grow-1" style="margin-bottom: 0;">{{ atributo.header + ': '}}</label>

      <!-- Exibir campo de entrada de acordo com o tipo -->
      <ng-container [ngSwitch]="atributo.type">
        <input *ngSwitchCase="'text'" pInputText type="text" class="form-control flex-grow-1"
          formControlName="{{ atributo.field }}" id="{{ atributo.field }}" name="{{ atributo.field }}">

        <input *ngSwitchCase="'number'" pInputText type="number" class="form-control flex-grow-1"
          formControlName="{{ atributo.field }}" id="{{ atributo.field }}" name="{{ atributo.field }}">

        <input *ngSwitchCase="'date'" pInputText type="date" class="form-control flex-grow-1"
          formControlName="{{ atributo.field }}" id="{{ atributo.field }}" name="{{ atributo.field }}">
      </ng-container>

      <!-- Exibir mensagem de erro apenas após o envio do formulário -->
      <div *ngIf="form?.get(atributo?.field)?.hasError('required') && submitted" class="text-red-600">Campo obrigatório</div>
    </div>
  </div>

  <div class="text-center">
    <p-button (onClick)="onSubmit()" label="Salvar" styleClass="p-button-success" type="submit" class="btn btn-primary"></p-button>
  </div>
</form>
